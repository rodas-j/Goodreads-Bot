'''
https://github.com/python-telegram-bot/python-telegram-bot/wiki/Code-snippets#post-a-text-message
'''
from telegram.ext import Updater
import logging  #for debugging purposes
from telegram.ext import CommandHandler 
from telegram.ext import MessageHandler, Filters
from .browsing import googleGoodreads
import telegram
bot = telegram.Bot(token='621697472:AAFIgz7WpxP34D_kSBeSiblYm6ZxjrpC67Q')


updater = Updater(token='621697472:AAFIgz7WpxP34D_kSBeSiblYm6ZxjrpC67Q', use_context=True)
dispatcher = updater.dispatcher #for quick access of dispatcher

x = 5
elaborate_text = f'''Invalid Input'''

logging.basicConfig(format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
                     level=logging.INFO) #Exception Handling: https://github.com/python-telegram-bot/python-telegram-bot/wiki/Exception-Handling

def start(update, context):
    print(context)
    context.bot.send_message(chat_id=update.effective_chat.id, text="Hey")

def hi(update, context):
    context.bot.send_message(chat_id=update.effective_chat.id, text="Hey, man!")

def echo(update, context):
    received_message = update.message.text
    chat_id = update.effective_chat.id
    print(f'{chat_id}: {received_message}')

def caps(update, context):
    text_caps = ' '.join(context.args).upper()
    context.bot.send_message(chat_id=update.effective_chat.id, text=text_caps)

caps_handler = CommandHandler('caps', caps)
dispatcher.add_handler(caps_handler)

echo_handler = MessageHandler(Filters.text & (~Filters.command), echo)
dispatcher.add_handler(echo_handler)

start_handler = CommandHandler('start', start)
hi_handler = CommandHandler('hi', hi)
dispatcher.add_handler(start_handler)
dispatcher.add_handler(hi_handler)

updater.start_polling()

'''
The Filters class contains a number of functions that filter incoming messages for text,
 images, status updates and more. Any message that returns True for at least one of the
 filters passed to MessageHandler will be accepted. You can also write your own filters 
 if you want.
 '''

 
def kalab(text):
    bot.send_message(747823734, text)

def eyasu(text):
    bot.send_message(381695983, text)

def barok(text):
    bot.send_message(270466342, text)